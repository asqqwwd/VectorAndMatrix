Generalized implementation of vectors and matrices